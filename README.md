# Проект TODO веб-сервера планировщика задач.

## Описание проекта

Это веб-сервис для управления задачами, который функционирует как интеллектуальный планировщик.
Он позволяет пользователям не только создавать простые разовые задачи, но и гибко настраивать повторяющиеся события с различной периодичностью.
Ключевые функции сервера:
Управление задачами - набор операций для добавления, удаления, редактирования и просмотра задач.
Гибкое планирование - каждая задача содержит заголовок, комментарий и дату дедлайна.
Задачи можно назначать как на определенную дату (разовые), так и настраивать их автоматическое повторение по правилам:
- с заданным интервалом.
- еженедельно в выбранные дни недели.
- ежемесячно в определенные дни месяца.
- ежегодно в одну и ту же дату.
Отслеживание выполнения - когда cистема позволяет отмечать задачи как выполненные.
При этом обычные (разовые) задачи — удаляются после выполнения, повторяющиеся задачи — автоматически переносятся на следующую дату в соответствии со своим правилом повторения, обеспечивая непрерывность планирования.
API сервера предоставляет следующие методы:
- добавить задачу
- получить список задач
- удалить задачу
- получить параметры задачи
- изменить параметры задачи
- отметить задачу как выполненную

В результате выполнения проекта реализовано определение порта извне при запуске сервера, определение пути к файлу базы данных, добавлено вычисление дат в случае недель и месяцев, реализована возможность выбрать задачу через строку поиска, реализована аутентификация и создан образ в Docker.

## Запуск сервера локально

1. Склонируйте репозиторий
```bash
git clone https://github.com/AndreyGomzikov/go_final_project.git
```
2. Перейдите в директорию проекта и запустите сервер в терминале:
```bash
    go run .
```
3. Откройте страницу в браузере по ссылке http://localhost:7540

## Запуск тестов

Для настройки тестов в tests\settings.go должны быть прописаны следующие переменные:
```
var Port = 7540
var DBFile = "../scheduler.db"
var FullNextDate = true
var Search = true
var Token =`eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NTY3ODM0MjEsImlhdCI6MTc1Njc1NDYyMSwicGhhc2giOiI1OTk0NDcxYWJiMDExMTJhZmNjMTgxNTlmNmNjNzRiNGY1MTFiOTk4MDZkYTU5YjNjYWY1YTljMTczY2FjZmM1In0.Eud5AHTiepSWZRIbDltaSuTaT6iF_aFpxu03190HjyA`
```

При запущенном сервере в другом терминале в директории проекта выполните:
```bush
go test -v -count=1 ./tests/...
```

## Сборка образа и запуск проекта в Docker

Создать файл .env:
```
TODO_PORT=7540
TODO_DBFILE=./scheduler.db
TODO_PASSWORD=12345
```
Запустить WSL2 и Docker Desktop
В WSL2 перейти в директорию проекта и собрать образ:
```bash
docker build -t todo-app:ubuntu .
```

Запустить проект из собранного образа:
```bash
docker run --rm -p 7540:7540 --env-file .env -v "$(pwd)/scheduler.db:/app/scheduler.db" todo-app:ubuntu
```

Открыть страницу в браузере по ссылке: http://localhost:7540/login.html
Ввести пароль заданный в файле .env

## Автор проекта
[Андрей Гомзиков](https://github.com/AndreyGomzikov)
